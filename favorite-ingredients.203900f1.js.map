{"mappings":"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","sources":["src/js/header/header-form.js","src/js/header/header-modal.js","src/js/header/theme-switch.js","src/js/shared/add-coctails-to-ingridient.js","src/js/favorite_page/favorite_page.js","src/js/shared/handle-favorite-page-search.js","src/favorite-ingredient.js"],"sourcesContent":["import { handleCocktailsSearch } from '../shared/handle-cocktails-search';\nimport { hideMobileMenu } from './header-modal';\n\nconst searchForm = document.querySelector('.header__search-form');\nconst searchFormModal = document.querySelector('.header__search-form-modal');\n\nsearchForm.addEventListener('submit', handleCocktailsSearch);\nsearchFormModal.addEventListener('submit', (e) => {\n    e.preventDefault();\n    hideMobileMenu();\n    handleCocktailsSearch(e);\n});\n","const mobileMenu = document.querySelector('.js-menu-container');\nconst openMenuBtn = document.querySelector('.js-open-menu');\nconst closeMenuBtn = document.querySelector('.js-close-menu');\n\nconst toggleMenu = () => {\n  const isMenuOpen =\n    openMenuBtn.getAttribute('aria-expanded') === 'true' || false;\n  openMenuBtn.setAttribute('aria-expanded', !isMenuOpen);\n  mobileMenu.classList.toggle('is-open');\n\n    if (!isMenuOpen) {\n      window.bodyScrollLock?.disableBodyScroll(document.body);\n    } else {\n      window.bodyScrollLock?.enableBodyScroll(document.body);\n    }\n};\n\nopenMenuBtn.addEventListener('click', toggleMenu);\ncloseMenuBtn.addEventListener('click', toggleMenu);\n\n// Close the mobile menu on wider screens if the device orientation changes\nwindow.matchMedia('(min-width: 768px)').addEventListener('change', e => {\n  if (!e.matches) return;\n  mobileMenu.classList.remove('is-open');\n  openMenuBtn.setAttribute('aria-expanded', false);\n  window.bodyScrollLock?.enableBodyScroll(document.body);\n});\n\nexport function hideMobileMenu() {\n  mobileMenu.classList.remove('is-open');\n  window.bodyScrollLock?.enableBodyScroll(document.body);\n}\n","const refs = {\n  input: document.querySelector('.checkbox'),\n  checkbox: document.querySelector('.header__switcher'),\n  checkboxMob: document.querySelector('.header__switcher-btn'),\n};\n\nconst THEME_KEY = 'theme';\nconst savedTheme = localStorage.getItem(THEME_KEY);\n\nif (savedTheme === 'dark') {\n  refs.checkbox.classList.add('checked');\n  refs.checkboxMob.classList.add('checked');\n  document.documentElement.dataset.theme = savedTheme;\n}\n\nrefs.input.addEventListener('change', event => {\n  let activeTheme = null;\n\n  if (event.target.checked) {\n    refs.checkbox.classList.add('checked');\n    refs.checkboxMob.classList.add('checked');\n    activeTheme = 'dark';\n  } else {\n    refs.checkbox.classList.remove('checked');\n    refs.checkboxMob.classList.remove('checked');\n    activeTheme = 'light';\n  }\n\n  document.documentElement.dataset.theme = activeTheme;\n  localStorage.setItem(THEME_KEY, activeTheme);\n});\n","const btnIngredients = document.querySelector('.js-modal-ingredient');\n\nbtnIngredients.addEventListener('click', addIngToFavorite);\n\nfunction addIngToFavorite(evt) {\n  const id = evt.target.value;\n  const favoriteIng = JSON.parse(localStorage.getItem('favoriteIng') || '[]');\n\n  if (evt.target.dataset.action === 'favorite') {\n    favoriteIng.push(id);\n  } else if (evt.target.dataset.action === 'remove_favorite') {\n    const index = favoriteIng.findIndex(_id => _id === id);\n\n    favoriteIng.splice(index, 1);\n  }\n\n  // if (!favoriteIng.includes(id)) {\n    \n  //   btnIngredients.textContent = 'Remove from favorites';\n  // } else {\n    \n  //   btnIngredients.textContent = 'Add to favorites';\n  // }\n\n  localStorage.setItem('favoriteIng', JSON.stringify(favoriteIng));\n}\n\nfunction findIdEl(ing) {\n  let favoriteIng = JSON.parse(localStorage.getItem('favoriteIng'));\n  if (!favoriteIng) {\n    localStorage.setItem('favoriteIng', JSON.stringify([]));\n  }\n  if (ing.includes(ing.idIngredient)) {\n  } else {\n  }\n}\n\nexport function createMarkupIng(ing) {\n  return ing\n    .map(e => {\n      return `\n  <div class=\"ing__cocktails\">\n  <div class=\"ing__cocktails-wrapper\">\n    <h3 class=\"ing__text-name\">${e.strIngredient}</h3>\n    <p class='ing__text'>${e.strType || 'No type found'}</p>\n    <div class=\"ing__btns\">\n    <button class=\"ing__button-primary js-ingredient\" data-ingredient=\"${e.strIngredient}\">Learn more</button>\n    <button class='ing__button-secondary' data-id=\"${\n      e.idIngredient\n    }\">Remove</button>\n    </div>\n    </div>\n  </div>`;\n    })\n    .join('');\n}\n","import { createMarkupIng } from '../shared/add-coctails-to-ingridient';\nimport { getCocktailIngredientById } from '../shared/api-service';\nimport { Paginator } from '../catalog/pagination/paginator';\n\nconst refs = {\n  ingEl: document.querySelector('.js-favorite__ing'),\n};\n\nconst favoriteCocktailsPaginator = new Paginator({\n  selector: '.paginator',\n  drawMarkup: ing => {\n    refs.ingEl.innerHTML = createMarkupIng(ing);\n      window.scrollTo({\n          top: 0,\n          behavior: 'smooth',\n        });\n  }\n});\n\nasync function onLoad() {\n  const ingridients = JSON.parse(localStorage.getItem('favoriteIng') || '[]');\n  const promises = getIngridients(ingridients);\n  const res = await Promise.all(promises);\n\n  favoriteCocktailsPaginator.update(res)\n}\nonLoad();\nfunction getIngridients(ing) {\n  return ing.map(ingridients => {\n    return getCocktailIngredientById(ingridients).then(response => {\n      return response.ingredients[0];\n    });\n  });\n}\n\nrefs.ingEl.addEventListener('click', e => {\n  if (e.target.nodeName !== 'BUTTON' || e.target.textContent !== 'Remove')\n    return;\n  const id = e.target.dataset.id;\n  console.log(id);\n  const savedIngrIds = JSON.parse(localStorage.getItem('favoriteIng'));\n  \n  if (savedIngrIds) {\n    const idIndex = savedIngrIds.findIndex(savedId => savedId === id);\n\n    savedIngrIds.splice(idIndex, 1);\n\n    localStorage.setItem('favoriteIng', JSON.stringify(savedIngrIds));\n    e.target.closest('.ing__cocktails').remove();\n  }  \n});\nconst ingridients = JSON.parse(localStorage.getItem('favoriteIng') || '[]');\n","import { getCocktailsByName } from \"./api-service\";\n\nexport async function handleFavoritePageSearch(e) {\n  e.preventDefault();\n  const query = e.target?.elements?.search?.value?.trim() || '';\n  const data = await getCocktailsByName(query);\n\n  localStorage.setItem('query', JSON.stringify(data.drinks));\n  window.location.href = 'index.html';\n}","import './js/header/header-form';\nimport './js/header/header-modal';\nimport './js/header/theme-switch';\nimport './js/favorite_page/favorite_page';\nimport './js/shared/listener-btn-learnmore';\nimport './js/shared/add-coctails-to-ingridient';\nimport {handleIngredientModalOpen} from './js/shared/handle-ingredient-modal-open';\nimport { handleFavoritePageSearch } from './js/shared/handle-favorite-page-search';\nimport { hideMobileMenu } from './js/header/header-modal';\n\nconst searchForm = document.querySelector('.header__search-form');\nconst searchFormMobile = document.querySelector('.header__search-form-modal');\nconst ingredientList = document.querySelector('.js-ingredients-list');\n\ningredientList.addEventListener('click', handleIngredientModalOpen);\nsearchForm.addEventListener('submit', handleFavoritePageSearch);\n\nsearchFormMobile.addEventListener('submit', (e) => {\n    e.preventDefault();\n    hideMobileMenu();\n    handleFavoritePageSearch(e);\n});\n"],"names":["$5Deoo","parcelRequire","$5132d33abb0ee0d1$var$mobileMenu","document","querySelector","$5132d33abb0ee0d1$var$openMenuBtn","$5132d33abb0ee0d1$var$closeMenuBtn","$5132d33abb0ee0d1$var$toggleMenu","isMenuOpen","getAttribute","setAttribute","classList","toggle","window","bodyScrollLock","enableBodyScroll","body","disableBodyScroll","$5132d33abb0ee0d1$export$cd408a2a40775e61","remove","addEventListener","matchMedia","e","matches","$a89cc992caf03056$var$searchForm","$a89cc992caf03056$var$searchFormModal","handleCocktailsSearch","preventDefault","$23b67f4f74d58cce$var$refs","input","checkbox","checkboxMob","$23b67f4f74d58cce$var$THEME_KEY","$23b67f4f74d58cce$var$savedTheme","localStorage","getItem","add","documentElement","dataset","theme","event","activeTheme","target","checked","setItem","$813291e9ce4f1a10$export$5f39d8a99b5269bc","ing","map","strIngredient","strType","idIngredient","join","evt","id","value","favoriteIng","JSON","parse","action","push","index","findIndex","_id","splice","stringify","$0e04ce987217af34$var$refs","ingEl","$0e04ce987217af34$var$favoriteCocktailsPaginator","$2exYQ","Paginator","selector","drawMarkup","innerHTML","scrollTo","top","behavior","async","promises","ingridients","$a48aG","getCocktailIngredientById","then","response","ingredients","res","Promise","all","update","$0e04ce987217af34$var$onLoad","nodeName","textContent","console","log","savedIngrIds","idIndex","savedId","closest","$a28350d2471c1199$export$5e2f760313c07ccc","query","elements","search","trim","data","getCocktailsByName","drinks","location","href","$b55af67e55b32e1f$var$searchForm","$b55af67e55b32e1f$var$searchFormMobile","$eHOcC","handleIngredientModalOpen"],"version":3,"file":"favorite-ingredients.203900f1.js.map"}