!function(){var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},n={},o=e.parcelRequireb70b;null==o&&((o=function(e){if(e in t)return t[e].exports;if(e in n){var o=n[e];delete n[e];var a={id:e,exports:{}};return t[e]=a,o.call(a.exports,a,a.exports),a.exports}var i=new Error("Cannot find module '"+e+"'");throw i.code="MODULE_NOT_FOUND",i}).register=function(e,t){n[e]=t},e.parcelRequireb70b=o);var a=o("5Deoo");const i=document.querySelector(".js-menu-container"),r=document.querySelector(".js-open-menu"),c=document.querySelector(".js-close-menu"),s=()=>{const e="true"===r.getAttribute("aria-expanded")||!1;r.setAttribute("aria-expanded",!e),i.classList.toggle("is-open"),e?window.bodyScrollLock?.enableBodyScroll(document.body):window.bodyScrollLock?.disableBodyScroll(document.body)};function d(){i.classList.remove("is-open"),window.bodyScrollLock?.enableBodyScroll(document.body)}r.addEventListener("click",s),c.addEventListener("click",s),window.matchMedia("(min-width: 768px)").addEventListener("change",(e=>{e.matches&&(i.classList.remove("is-open"),r.setAttribute("aria-expanded",!1),window.bodyScrollLock?.enableBodyScroll(document.body))}));const l=document.querySelector(".header__search-form"),m=document.querySelector(".header__search-form-modal");l.addEventListener("submit",a.handleCocktailsSearch),m.addEventListener("submit",(e=>{e.preventDefault(),d(),(0,a.handleCocktailsSearch)(e)}));const u={input:document.querySelector(".checkbox"),checkbox:document.querySelector(".header__switcher"),checkboxMob:document.querySelector(".header__switcher-btn")},g="theme",h=localStorage.getItem(g);"dark"===h&&(u.checkbox.classList.add("checked"),u.checkboxMob.classList.add("checked"),document.documentElement.dataset.theme=h),u.input.addEventListener("change",(e=>{let t=null;e.target.checked?(u.checkbox.classList.add("checked"),u.checkboxMob.classList.add("checked"),t="dark"):(u.checkbox.classList.remove("checked"),u.checkboxMob.classList.remove("checked"),t="light"),document.documentElement.dataset.theme=t,localStorage.setItem(g,t)}));var v=o("a48aG"),f=o("1Y9oW");v=o("a48aG");function _(e){const t=JSON.parse(localStorage.getItem("favoriteCocktails")||"[]");t.includes(e)||(t.push(e),localStorage.setItem("favoriteCocktails",JSON.stringify(t)))}function p(e){const t=JSON.parse(localStorage.getItem("favoriteCocktails")||"[]"),n=t.findIndex((t=>t===e));-1!==n&&(t.splice(n,1),localStorage.setItem("favoriteCocktails",JSON.stringify(t)))}v=o("a48aG");const k=document.querySelector("[data-btn-close]"),y=document.querySelector(".backdrop-cocktails"),S=document.querySelector("[data-ingredient-window]");function b(e){if(console.log(e.target),e.preventDefault(),e.target.classList.contains("js-ingredient")){const t=e.target.dataset.ingredient,n=JSON.parse(localStorage.getItem("favoriteIng")||"[]"),o=(document.querySelector("[data-ingredient-window]"),document.querySelector(".modal-ingredient__wrapper")),a=document.querySelector(".js-modal-ingredient");(0,v.getCocktailIngredientByName)(t).then((({ingredients:e})=>{const t=e[0],i=`\n    <h3 class="modal-ingredient__title">${t.strIngredient||"this ingredient is not found"}</h3>\n    <p class="modal-ingredient__descr">${t.strType||"none"}</p>\n    <p class="modal-ingredient__text">\n      <span class="modal-ingredient__name">${t.strIngredient||"this ingredient is not found"}</span> ${t.strDescription||"description is not found"}\n    </p>\n    <ul class="modal-ingredient__list">\n      <li class="modal-ingredient__item">Type: ${t.strIngredient||" "}</li>\n      <li class="modal-ingredient__item">Country of origin:</li>\n      <li class="modal-ingredient__item">Alcohol by volume: ${t.strABV||" "}%</li>\n      <li class="modal-ingredient__item">Flavour:</li>\n    </ul>`;o.innerHTML=i,y?.classList.add("hidden"),S.classList.remove("hidden"),document.body.style.overflow="hidden",a.value=t.idIngredient,n.includes(t.idIngredient)?(a.textContent="Remove from favorites",a.dataset.action="remove_favorite"):(a.textContent="Add to favorites",a.dataset.action="favorite")}))}}function L(e){const t=document.querySelector("[data-modal-cocktails]"),n=document.querySelector(".backdrop-cocktails"),o=document.querySelector(".modal-cocktails__button"),a=JSON.parse(localStorage.getItem("favoriteCocktails")||"[]");o.addEventListener("click",(t=>{const n=t.target.dataset.action;"favorite"===n?(_(e),t.target.dataset.action="remove_favorite",t.target.innerHTML="Remove from favorite"):"remove_favorite"===n&&(p(e),t.target.dataset.action="favorite",t.target.innerHTML="Add to favorite")})),(0,v.getCocktailsDetailsById)(e).then((({drinks:e})=>{const i=[],r=[],c=[];for(let t in e[0])t.includes("strIngredient")&&null!==e[0][t]&&r.push(e[0][t]);for(let t in e[0])t.includes("strMeasure")&&null!==e[0][t]&&i.push(e[0][t]);for(let e=0;e<r.length;e+=1)c.push(`<li class="modal-cocktails__item"><span class="modal-cocktails__span">âœ¶</span>\n      ${i[e]||""}<span class="ingredient js-ingredient" data-ingredient="${r[e]}" name='${r[e]}'>${r[e]}</span>\n    </li>`);const s=c.join(" "),d=`\n      <h1 class="modal-cocktails__title">${e[0].strDrink}</h1>\n    <div class="test">\n        <div class="test2">\n          <h2 class="modal-cocktails__subtitle">INSTRACTION:</h2>\n           <p class="modal-cocktails__descrip">${e[0].strInstructions}</p>\n        </div>\n      \n      <img\n        class="modal-cocktails__img"\n        src="${e[0].strDrinkThumb}"\n        alt="modal-cocktails"\n        width="280px"\n        height="280px"\n      />\n\n        <div class="test3">\n          <h2 class="modal-cocktails__conteine">INGREDIENTS</h2>\n          <p class="modal-cocktails__per">Per cocktail</p>\n          <ul class="modal-cocktails__list js-ingredients-list">${s}</ul>\n        </div>   \n    </div>`;t.innerHTML=d,n.classList.remove("hidden"),document.body.style.overflow="hidden",a.includes(e[0].idDrink)&&(o.dataset.action="remove_favorite",o.innerHTML="Remove from favorite");document.querySelector(".js-ingredients-list").addEventListener("click",b)}))}k.addEventListener("click",(function(e){S.classList.add("hidden"),y?.classList.remove("hidden")}));const w=document.querySelector(".catalog__icon");function x(e){if("BUTTON"!==e.target.nodeName)return;const t=e.target.dataset.action,n=e.target.dataset.id;"learn_more"===t?L(n):"favorite"===t?(_(n),e.target.dataset.action="remove_favorite",e.target.innerHTML=`Remove ${w.outerHTML}`):"remove_favorite"===t&&(p(n),e.target.dataset.action="favorite",e.target.innerHTML=`Add to ${w.outerHTML}`)}var q=o("2exYQ");const I=document.querySelector(".favorite__text"),T=document.querySelector(".js-favorite__cocktails"),M=JSON.parse(localStorage.getItem("favoriteCocktails")||"[]").map((e=>(0,v.getCocktailsDetailsById)(e).then((e=>e.drinks[0])))),N=new(0,q.Paginator)({selector:".paginator",drawMarkup:e=>{T.innerHTML=(0,f.createCocktailsMarkup)(e),window.scrollTo({top:0,behavior:"smooth"})}});Promise.all(M).then((e=>{e?.length?(I.classList.add("hidden"),N.update(e)):(I.classList.remove("hidden"),T.innerHTML="",N.hidePaginator())})),T.addEventListener("click",(e=>{e.preventDefault(),"BUTTON"===e.target.nodeName&&("remove_favorite"===e.target.dataset.action&&e.target.closest(".catalog__item").remove(),x(e),T.children.length||I.classList.remove("hidden"))}));v=o("a48aG");async function C(e){e.preventDefault();const t=e.target?.elements?.search?.value?.trim()||"",n=await(0,v.getCocktailsByName)(t);localStorage.setItem("query",JSON.stringify(n.drinks)),window.location.href="index.html"}const E=document.querySelector(".header__search-form"),$=document.querySelector(".header__search-form-modal");E.addEventListener("submit",C),$.addEventListener("submit",(e=>{e.preventDefault(),d(),C(e)}))}();
//# sourceMappingURL=favorite-cocktails.0b6a68b4.js.map
