var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},n={},o=e.parcelRequireb70b;null==o&&((o=function(e){if(e in t)return t[e].exports;if(e in n){var o=n[e];delete n[e];var r={id:e,exports:{}};return t[e]=r,o.call(r.exports,r,r.exports),r.exports}var c=new Error("Cannot find module '"+e+"'");throw c.code="MODULE_NOT_FOUND",c}).register=function(e,t){n[e]=t},e.parcelRequireb70b=o);var r=o("fS69O");const c=document.querySelector(".js-menu-container"),a=document.querySelector(".js-open-menu"),i=document.querySelector(".js-close-menu"),d=()=>{const e="true"===a.getAttribute("aria-expanded")||!1;a.setAttribute("aria-expanded",!e),c.classList.toggle("is-open"),e?window.bodyScrollLock?.enableBodyScroll(document.body):window.bodyScrollLock?.disableBodyScroll(document.body)};a.addEventListener("click",d),i.addEventListener("click",d),window.matchMedia("(min-width: 768px)").addEventListener("change",(e=>{e.matches&&(c.classList.remove("is-open"),a.setAttribute("aria-expanded",!1),window.bodyScrollLock?.enableBodyScroll(document.body))}));const s=document.querySelector(".header__search-form"),l=document.querySelector(".header__search-form-modal"),u=document.querySelector(".header");s.addEventListener("submit",r.handleCocktailsSearch),l.addEventListener("submit",r.handleCocktailsSearch),window.addEventListener("scroll",(function(){window.scrollY>0?u.classList.add("scrolled"):u.classList.remove("scrolled")}));const m={input:document.querySelector(".checkbox"),checkbox:document.querySelector(".header__switcher"),checkboxMob:document.querySelector(".header__switcher-btn")},g="theme",h=localStorage.getItem(g);"dark"===h&&(m.checkbox.classList.add("checked"),m.checkboxMob.classList.add("checked"),document.documentElement.dataset.theme=h),m.input.addEventListener("change",(e=>{let t=null;e.target.checked?(m.checkbox.classList.add("checked"),m.checkboxMob.classList.add("checked"),t="dark"):(m.checkbox.classList.remove("checked"),m.checkboxMob.classList.remove("checked"),t="light"),document.documentElement.dataset.theme=t,localStorage.setItem(g,t)}));function f(e){return e.map((e=>`\n  <div class="ing__cocktails">\n  <div class="ing__cocktails-wrapper">\n    <h3 class="ing__text-name">${e.strIngredient}</h3>\n    <p class='ing__text'>${e.strType||"No type found"}</p>\n    <div class="ing__btns">\n    <button class="ing__button-primary js-ingredient" data-ingredient="${e.strIngredient}">Learn more</button>\n    <button class='ing__button-secondary' data-id="${e.idIngredient}">Remove</button>\n    </div>\n    </div>\n  </div>`)).join("")}document.querySelector(".js-modal-ingredient").addEventListener("click",(function(e){const t=e.target.value,n=JSON.parse(localStorage.getItem("favoriteIng")||"[]");if("favorite"!==e.target.dataset.action||n.includes(t)){if("remove_favorite"===e.target.dataset.action&&n.includes(t)){const e=n.findIndex((e=>e===t));n.splice(e,1)}}else n.push(t);localStorage.setItem("favoriteIng",JSON.stringify(n))}));var b=o("hF5kJ"),v=o("fs3tN");const p={ingEl:document.querySelector(".js-favorite__ing")},y=new(0,v.Paginator)({selector:".paginator",drawMarkup:e=>{p.ingEl.innerHTML=f(e),window.scrollTo({top:0,behavior:"smooth"})}});!async function(){const e=JSON.parse(localStorage.getItem("favoriteIng")||"[]").map((e=>(0,b.getCocktailIngredientById)(e).then((e=>e.ingredients[0])))),t=await Promise.all(e);y.update(t)}(),p.ingEl.addEventListener("click",(e=>{if("BUTTON"!==e.target.nodeName||"Remove"!==e.target.textContent)return;const t=e.target.dataset.id;console.log(t);const n=JSON.parse(localStorage.getItem("favoriteIng"));if(n){const o=n.findIndex((e=>e===t));n.splice(o,1),localStorage.setItem("favoriteIng",JSON.stringify(n)),e.target.closest(".ing__cocktails").remove()}}));JSON.parse(localStorage.getItem("favoriteIng")||"[]");o("laP91");var S=o("5x6pm");const k=document.querySelector(".footer");window.addEventListener("load",(function(){document.documentElement.scrollHeight>window.innerHeight&&(k.style.position="fixed")}));S=o("5x6pm"),b=o("hF5kJ");async function w(e){e.preventDefault();const t=e.target?.elements?.search?.value?.trim()||"",n=await(0,b.getCocktailsByName)(t);localStorage.setItem("query",JSON.stringify(n.drinks)),window.location.href="index.html"}const _=document.querySelector(".header__search-form"),L=document.querySelector(".header__search-form-modal");document.querySelector(".js-ingredients-list").addEventListener("click",S.handleIngredientModalOpen),_.addEventListener("submit",w),L.addEventListener("submit",(e=>{e.preventDefault(),c.classList.remove("is-open"),window.bodyScrollLock?.enableBodyScroll(document.body),w(e)}));
//# sourceMappingURL=favorite-ingredients.983286d6.js.map
