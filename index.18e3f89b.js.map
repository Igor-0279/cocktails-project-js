{"mappings":"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","sources":["src/js/shared/listener-btn-learnmore.js","src/js/modal-ingredients/modal-ingredients.js","src/js/catalog/handle-cocktails-click-action.js","src/js/shared/handle-Learn-More-Btn-Click.js","src/js/shared/save-favorite-coctails.js","src/js/shared/handle-ingredient-modal-open.js"],"sourcesContent":["import '../modal-ingredients/modal-ingredients';\nimport { handleCocktailClickAction } from '../catalog/handle-cocktails-click-action';\nimport { handleIngredientModalOpen } from './handle-ingredient-modal-open';\nconst catalogList = document.querySelector('.catalog__list');\n\ncatalogList.addEventListener('click', handleCocktailClickAction);\n","const closeModalBtn = document.querySelector('[data-modal-close]');\nconst backdrop = document.querySelector('.backdrop-cocktails');\nconst backdropModalCocktails = document.querySelector('.backdrop-cocktails');\n\ncloseModalBtn.addEventListener('click', closeModal);\nbackdropModalCocktails.addEventListener('click', e => {\n  if (!e.target.classList.contains('backdrop-cocktails')) {\n    return;\n  }\n\n  closeModal();\n});\n\nfunction closeModal() {\n  backdrop.classList.add('hidden');\n  document.body.style.overflow = 'auto';\n}\n","import { handleLearnMoreBtnClick } from \"../shared/handle-Learn-More-Btn-Click\";\nimport { addCocktailToFavorite, removeCoctailFromFavorite } from \"../shared/save-favorite-coctails\";\n\nconst icon = document.querySelector('.catalog__icon');\n\n\nexport function handleCocktailClickAction(event) {\n  if (event.target.nodeName !== 'BUTTON') {\n    return;\n  }\n\n  const action = event.target.dataset.action;\n  const cocktailId = event.target.dataset.id;\n\n    if (action === 'learn_more') {\n        handleLearnMoreBtnClick(cocktailId);\n    } else if (action === 'favorite') {\n        // провіряємо чи є у LocalStorage (\"улюблених\") айді цього коктейлю, та якщо ні - добавляємо\n        addCocktailToFavorite(cocktailId);\n        event.target.dataset.action = 'remove_favorite';\n        event.target.innerHTML = `Remove ${icon.outerHTML}`;\n    } else if (action === 'remove_favorite') {\n        removeCoctailFromFavorite(cocktailId);\n        event.target.dataset.action = 'favorite';\n        event.target.innerHTML = `Add to ${icon.outerHTML}`;\n    }\n}\n\n","import { getCocktailsDetailsById } from './api-service';\nimport { addCocktailToFavorite, removeCoctailFromFavorite } from './save-favorite-coctails';\nimport {handleIngredientModalOpen} from './handle-ingredient-modal-open';\n\nexport function handleLearnMoreBtnClick(selectedCocktail) {\n  const modalWindow = document.querySelector('[data-modal-cocktails]');\n  const backdrop = document.querySelector('.backdrop-cocktails');\n  const modalButtonAddFavorite = document.querySelector('.modal-cocktails__button');\n  const favoriteCocktails = JSON.parse(localStorage.getItem('favoriteCocktails') || '[]');\n\n  modalButtonAddFavorite.addEventListener('click', (event) => {\n    const action = event.target.dataset.action;\n\n    if (action === 'favorite') {\n      addCocktailToFavorite(selectedCocktail);\n      event.target.dataset.action = 'remove_favorite';\n      event.target.innerHTML = `Remove from favorite`;\n  } else if (action === 'remove_favorite') {\n      removeCoctailFromFavorite(selectedCocktail);\n      event.target.dataset.action = 'favorite';\n      event.target.innerHTML = `Add to favorite`;\n  }\n  });\n\n  getCocktailsDetailsById(selectedCocktail).then(({ drinks }) => {\n    const ingredientsMeasure = [];\n    const ingredients = [];\n\n    const listMarkup = [];\n\n    for (let ingr in drinks[0]) {\n      if (ingr.includes('strIngredient') && drinks[0][ingr] !== null) {\n        ingredients.push(drinks[0][ingr]);\n      }\n    }\n\n    for (let measure in drinks[0]) {\n      if (measure.includes('strMeasure') && drinks[0][measure] !== null) {\n        ingredientsMeasure.push(drinks[0][measure]);\n      }\n    }\n\n    for (let i = 0; i < ingredients.length; i += 1) {\n      listMarkup.push(`<li class=\"modal-cocktails__item\"><span class=\"modal-cocktails__span\">✶</span>\n      ${ingredientsMeasure[i] || ''}<span class=\"ingredient js-ingredient\" data-ingredient=\"${ingredients[i]}\" name='${ingredients[i]}'>${ingredients[i]}</span>\n    </li>`);\n    }\n    const list = listMarkup.join(' ');\n    const markup = `\n      <h1 class=\"modal-cocktails__title\">${drinks[0].strDrink}</h1>\n    <div class=\"test\">\n        <div class=\"test2\">\n          <h2 class=\"modal-cocktails__subtitle\">INSTRACTION:</h2>\n           <p class=\"modal-cocktails__descrip\">${drinks[0].strInstructions}</p>\n        </div>\n      \n      <img\n        class=\"modal-cocktails__img\"\n        src=\"${drinks[0].strDrinkThumb}\"\n        alt=\"modal-cocktails\"\n        width=\"280px\"\n        height=\"280px\"\n      />\n\n        <div class=\"test3\">\n          <h2 class=\"modal-cocktails__conteine\">INGREDIENTS</h2>\n          <p class=\"modal-cocktails__per\">Per cocktail</p>\n          <ul class=\"modal-cocktails__list js-ingredients-list\">${list}</ul>\n        </div>   \n    </div>`;\n\n      \n      modalWindow.innerHTML = markup;\n      backdrop.classList.remove('hidden');\n      document.body.style.overflow = 'hidden';\n\n      if (favoriteCocktails.includes(drinks[0].idDrink)) {\n        modalButtonAddFavorite.dataset.action = 'remove_favorite';\n        modalButtonAddFavorite.innerHTML = `Remove from favorite`;\n      }\n\n      const ingredientList = document.querySelector('.js-ingredients-list');\n      ingredientList.addEventListener('click', handleIngredientModalOpen);\n  });\n}\n","export function addCocktailToFavorite(cocktailId) {\n    const favoriteCocktailIds = JSON.parse(localStorage.getItem('favoriteCocktails') || '[]');\n\n    if (!favoriteCocktailIds.includes(cocktailId)) {\n        favoriteCocktailIds.push(cocktailId);\n        localStorage.setItem('favoriteCocktails', JSON.stringify(favoriteCocktailIds));\n    }\n}\n\nexport function removeCoctailFromFavorite(cocktailId) {\n    const favoriteCocktailIds = JSON.parse(localStorage.getItem('favoriteCocktails') || '[]');\n    const cocktailIndex = favoriteCocktailIds.findIndex(id => id === cocktailId);\n\n    if (cocktailIndex !== - 1) {\n        favoriteCocktailIds.splice(cocktailIndex, 1);\n\n        localStorage.setItem('favoriteCocktails', JSON.stringify(favoriteCocktailIds));\n    }\n}","import { getCocktailIngredientByName } from './api-service';\nconst closeBtn = document.querySelector('[data-btn-close]');\nconst backdrop = document.querySelector('.backdrop-cocktails');\nconst ingredientModalWindow = document.querySelector(\n  '[data-ingredient-window]'\n);\ncloseBtn.addEventListener('click', handleIngredientModalClose);\n\nfunction handleIngredientModalClose(e) {\n  ingredientModalWindow.classList.add('hidden');\n  backdrop?.classList.remove('hidden');\n}\n\nexport function handleIngredientModalOpen(e) {\n  console.log(e.target);\n  e.preventDefault();\n  if (!e.target.classList.contains('js-ingredient')) return;\n  else {\n    const selectedIngredient = e.target.dataset.ingredient;\n    const favoriteIng = JSON.parse(localStorage.getItem('favoriteIng') || '[]');\n    const ingredientWindow = document.querySelector('[data-ingredient-window]');\n    const markupContainer = document.querySelector(\n      '.modal-ingredient__wrapper'\n    );\n    const addToFavoriteBtn = document.querySelector('.js-modal-ingredient');\n    getCocktailIngredientByName(selectedIngredient).then(({ ingredients }) => {\n      const ingredient = ingredients[0];\n      const markup = `\n    <h3 class=\"modal-ingredient__title\">${\n      ingredient.strIngredient || 'this ingredient is not found'\n    }</h3>\n    <p class=\"modal-ingredient__descr\">${ingredient.strType || 'none'}</p>\n    <p class=\"modal-ingredient__text\">\n      <span class=\"modal-ingredient__name\">${\n        ingredient.strIngredient || 'this ingredient is not found'\n      }</span> ${ingredient.strDescription || 'description is not found'}\n    </p>\n    <ul class=\"modal-ingredient__list\">\n      <li class=\"modal-ingredient__item\"><span class=\"modal-ingrid__span\">✶ </span>Type: ${\n        ingredient.strIngredient || ' '\n      }</li>\n      <li class=\"modal-ingredient__item\"><span class=\"modal-ingrid__span\">✶ </span>Country of origin:</li>\n      <li class=\"modal-ingredient__item\"><span class=\"modal-ingrid__span\">✶ </span>Alcohol by volume: ${\n        ingredient.strABV || ' '\n      }%</li>\n      <li class=\"modal-ingredient__item\"><span class=\"modal-ingrid__span\">✶ </span>Flavour:</li>\n    </ul>`;\n      markupContainer.innerHTML = markup;\n      backdrop?.classList.add('hidden');\n      ingredientModalWindow.classList.remove('hidden');\n      document.body.style.overflow = 'hidden';\n      addToFavoriteBtn.value = ingredient.idIngredient;\n\n      if (favoriteIng.includes(ingredient.idIngredient)) {\n        addToFavoriteBtn.textContent = 'Remove from favorites';\n        addToFavoriteBtn.dataset.action = 'remove_favorite';\n      } else {\n        addToFavoriteBtn.textContent = 'Add to favorites';\n        addToFavoriteBtn.dataset.action = 'favorite';\n      }\n    });\n  }\n}\n"],"names":["parcelRequire","document","querySelector","addEventListener","$38EtW","handleCocktailClickAction","$905faea5e25de848$var$closeModalBtn","$905faea5e25de848$var$backdrop","$905faea5e25de848$var$backdropModalCocktails","$905faea5e25de848$var$closeModal","classList","add","body","style","overflow","e","target","contains","$8mYGI","$249185509c2dc0ee$var$icon","$249185509c2dc0ee$export$1b1c36cc2fee4abf","event","nodeName","action","dataset","cocktailId","id","handleLearnMoreBtnClick","$8WQrz","addCocktailToFavorite","innerHTML","outerHTML","removeCoctailFromFavorite","$a48aG","$617f742d300aeb26$export$d9a6a80374ebd169","selectedCocktail","modalWindow","backdrop","modalButtonAddFavorite","favoriteCocktails","JSON","parse","localStorage","getItem","getCocktailsDetailsById","then","drinks","ingredientsMeasure","ingredients","listMarkup","ingr","includes","push","measure","i","length","list","join","markup","strDrink","strInstructions","strDrinkThumb","remove","idDrink","$eHOcC","handleIngredientModalOpen","$683c6bbf16d2ea80$export$f4dadd7760d3336b","favoriteCocktailIds","setItem","stringify","$683c6bbf16d2ea80$export$c134a7b7cf9372fa","cocktailIndex","findIndex","splice","$ab4c06062cf00b30$var$closeBtn","$ab4c06062cf00b30$var$backdrop","$ab4c06062cf00b30$var$ingredientModalWindow","$ab4c06062cf00b30$export$33d91039c9cede47","console","log","preventDefault","selectedIngredient","ingredient","favoriteIng","markupContainer","addToFavoriteBtn","getCocktailIngredientByName","strIngredient","strType","strDescription","strABV","value","idIngredient","textContent"],"version":3,"file":"index.18e3f89b.js.map"}