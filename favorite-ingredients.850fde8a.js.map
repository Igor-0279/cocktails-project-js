{"mappings":"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","sources":["src/js/header/header-form.js","src/js/header/header-modal.js","src/js/header/theme-switch.js","src/js/shared/add-coctails-to-ingridient.js","src/js/favorite_page/favorite_page.js"],"sourcesContent":["import { handleCocktailsSearch } from '../shared/handle-cocktails-search';\n\nconst searchForm = document.querySelector('.header__search-form');\nconst searchFormModal = document.querySelector('.header__search-form-modal');\n\nsearchForm.addEventListener('submit', handleCocktailsSearch);\nsearchFormModal.addEventListener('submit', handleCocktailsSearch);\n","(() => {\n  const mobileMenu = document.querySelector('.js-menu-container');\n  const openMenuBtn = document.querySelector('.js-open-menu');\n  const closeMenuBtn = document.querySelector('.js-close-menu');\n\n  const toggleMenu = () => {\n    const isMenuOpen =\n      openMenuBtn.getAttribute('aria-expanded') === 'true' || false;\n    openMenuBtn.setAttribute('aria-expanded', !isMenuOpen);\n    mobileMenu.classList.toggle('is-open');\n\n    const scrollLockMethod = !isMenuOpen\n      ? 'disableBodyScroll'\n      : 'enableBodyScroll';\n    bodyScrollLock[scrollLockMethod](document.body);\n  };\n\n  openMenuBtn.addEventListener('click', toggleMenu);\n  closeMenuBtn.addEventListener('click', toggleMenu);\n\n  // Close the mobile menu on wider screens if the device orientation changes\n  window.matchMedia('(min-width: 768px)').addEventListener('change', e => {\n    if (!e.matches) return;\n    mobileMenu.classList.remove('is-open');\n    openMenuBtn.setAttribute('aria-expanded', false);\n    bodyScrollLock.enableBodyScroll(document.body);\n  });\n})();\n","const refs = {\n  input: document.querySelector('.checkbox'),\n  checkbox: document.querySelector('.header__switcher'),\n  checkboxMob: document.querySelector('.header__switcher-btn'),\n};\n\nconst THEME_KEY = 'theme';\nconst savedTheme = localStorage.getItem(THEME_KEY);\n\nif (savedTheme === 'dark') {\n  refs.checkbox.classList.add('checked');\n  refs.checkboxMob.classList.add('checked');\n  document.documentElement.dataset.theme = savedTheme;\n}\n\nrefs.input.addEventListener('change', event => {\n  let activeTheme = null;\n\n  if (event.target.checked) {\n    refs.checkbox.classList.add('checked');\n    refs.checkboxMob.classList.add('checked');\n    activeTheme = 'dark';\n  } else {\n    refs.checkbox.classList.remove('checked');\n    refs.checkboxMob.classList.remove('checked');\n    activeTheme = 'light';\n  }\n\n  document.documentElement.dataset.theme = activeTheme;\n  localStorage.setItem(THEME_KEY, activeTheme);\n});\n","const btnIngredients = document.querySelector('.js-modal-ingredient');\n\nbtnIngredients.addEventListener('click', addIngToFavorite);\n\nfunction addIngToFavorite(evt) {\n  const id = evt.target.value;\n  const favoriteIng = JSON.parse(localStorage.getItem('favoriteIng') || '[]');\n  if (!favoriteIng.includes(id)) {\n    favoriteIng.push(id);\n    localStorage.setItem('favoriteIng', JSON.stringify(favoriteIng));\n  }\n}\n\nfunction findIdEl(ing) {\n  let favoriteIng = JSON.parse(localStorage.getItem('favoriteIng'));\n  if (!favoriteIng) {\n    localStorage.setItem('favoriteIng', JSON.stringify([]));\n  }\n  if (ing.includes(ing.idIngredient)) {\n  } else {\n  }\n}\n\n\nexport function createMarkupIng(ing) {\n  return ing\n    .map(e => {\n      return `\n  <div class=\"ing__cocktails\">\n  <div class=\"ing__cocktails-wrapper\">\n    <h3>${e.strIngredient}</h3>\n    <p>${e.strType || 'No type found'}</p>\n    <button class=\"button-primary\">Learn more</button>\n    <button class='button-secondary' data-id=\"${e.idIngredient}\">Remove</button>\n  </div>\n  </div>`;\n    })\n    .join('');\n}\n","import { createMarkupIng } from '../shared/add-coctails-to-ingridient';\nimport { getCocktailIngredientById } from '../shared/api-service';\n\nconst refs = {\n  ingEl: document.querySelector('.js-favorite__ing'),\n};\nasync function onLoad() {\n  console.log('test');\n  const ingridients = JSON.parse(localStorage.getItem('favoriteIng') || '[]');\n  const promises = getIngridients(ingridients);\n  const res = await Promise.all(promises);\n  console.log(createMarkupIng(res));\n  refs.ingEl.insertAdjacentHTML('afterbegin', createMarkupIng(res));\n}\nonLoad();\nfunction getIngridients(ing) {\n  return ing.map(ingridients => {\n    return getCocktailIngredientById(ingridients).then(response => {\n      return response.ingredients[0];\n    });\n  });\n}\n\nrefs.ingEl.addEventListener('click', e => {\n  if (e.target.nodeName !== 'BUTTON' || e.target.textContent !== 'Remove')\n    return;\n  const id = e.target.dataset.id;\n  console.log(id);\n  const savedIngrIds = JSON.parse(localStorage.getItem('favoriteIng'));\n  \n  if (savedIngrIds) {\n    const idIndex = savedIngrIds.findIndex(savedId => savedId === id);\n\n    savedIngrIds.splice(idIndex, 1);\n\n    localStorage.setItem('favoriteIng', JSON.stringify(savedIngrIds));\n    e.target.closest('.ing__cocktails').remove();\n  }  \n});\nconst ingridients = JSON.parse(localStorage.getItem('favoriteIng') || '[]');\n"],"names":["$fS69O","parcelRequire","$fabcb55eae76a3e6$var$searchForm","document","querySelector","$fabcb55eae76a3e6$var$searchFormModal","addEventListener","handleCocktailsSearch","mobileMenu","openMenuBtn","closeMenuBtn","toggleMenu","isMenuOpen","getAttribute","setAttribute","classList","toggle","bodyScrollLock","body","window","matchMedia","e","matches","remove","enableBodyScroll","$9127d9019a6d8d38$var$refs","input","checkbox","checkboxMob","$9127d9019a6d8d38$var$THEME_KEY","$9127d9019a6d8d38$var$savedTheme","localStorage","getItem","add","documentElement","dataset","theme","event","activeTheme","target","checked","setItem","$1d43930a82e07317$export$5f39d8a99b5269bc","ing","map","strIngredient","strType","idIngredient","join","evt","id","value","favoriteIng","JSON","parse","includes","push","stringify","$b4ea8c1a2f85fb3f$var$refs","ingEl","async","console","log","promises","ingridients","$hF5kJ","getCocktailIngredientById","then","response","ingredients","res","Promise","all","insertAdjacentHTML","$b4ea8c1a2f85fb3f$var$onLoad","nodeName","textContent","savedIngrIds","idIndex","findIndex","savedId","splice","closest"],"version":3,"file":"favorite-ingredients.850fde8a.js.map"}