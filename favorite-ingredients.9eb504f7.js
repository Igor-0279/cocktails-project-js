!function(){var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},n={},o=e.parcelRequireb70b;null==o&&((o=function(e){if(e in t)return t[e].exports;if(e in n){var o=n[e];delete n[e];var i={id:e,exports:{}};return t[e]=i,o.call(i.exports,i,i.exports),i.exports}var a=new Error("Cannot find module '"+e+"'");throw a.code="MODULE_NOT_FOUND",a}).register=function(e,t){n[e]=t},e.parcelRequireb70b=o);var i=o("5Deoo");const a=document.querySelector(".js-menu-container"),r=document.querySelector(".js-open-menu"),d=document.querySelector(".js-close-menu"),c=()=>{const e="true"===r.getAttribute("aria-expanded")||!1;r.setAttribute("aria-expanded",!e),a.classList.toggle("is-open"),e?window.bodyScrollLock?.enableBodyScroll(document.body):window.bodyScrollLock?.disableBodyScroll(document.body)};function s(){a.classList.remove("is-open"),window.bodyScrollLock?.enableBodyScroll(document.body)}r.addEventListener("click",c),d.addEventListener("click",c),window.matchMedia("(min-width: 768px)").addEventListener("change",(e=>{e.matches&&(a.classList.remove("is-open"),r.setAttribute("aria-expanded",!1),window.bodyScrollLock?.enableBodyScroll(document.body))}));const l=document.querySelector(".header__search-form"),u=document.querySelector(".header__search-form-modal");l.addEventListener("submit",i.handleCocktailsSearch),u.addEventListener("submit",(e=>{e.preventDefault(),s(),(0,i.handleCocktailsSearch)(e)}));const m={input:document.querySelector(".checkbox"),checkbox:document.querySelector(".header__switcher"),checkboxMob:document.querySelector(".header__switcher-btn")},g="theme",h=localStorage.getItem(g);"dark"===h&&(m.checkbox.classList.add("checked"),m.checkboxMob.classList.add("checked"),document.documentElement.dataset.theme=h),m.input.addEventListener("change",(e=>{let t=null;e.target.checked?(m.checkbox.classList.add("checked"),m.checkboxMob.classList.add("checked"),t="dark"):(m.checkbox.classList.remove("checked"),m.checkboxMob.classList.remove("checked"),t="light"),document.documentElement.dataset.theme=t,localStorage.setItem(g,t)}));function f(e){return e.map((e=>`\n  <div class="ing__cocktails">\n  <div class="ing__cocktails-wrapper">\n    <h3 class="ing__text-name">${e.strIngredient}</h3>\n    <p class='ing__text'>${e.strType||"No type found"}</p>\n    <div class="ing__btns">\n    <button class="ing__button-primary js-ingredient" data-ingredient="${e.strIngredient}">Learn more</button>\n    <button class='ing__button-secondary' data-id="${e.idIngredient}">Remove</button>\n    </div>\n    </div>\n  </div>`)).join("")}document.querySelector(".js-modal-ingredient").addEventListener("click",(function(e){const t=e.target.value,n=JSON.parse(localStorage.getItem("favoriteIng")||"[]");if("favorite"===e.target.dataset.action)n.push(t);else if("remove_favorite"===e.target.dataset.action){const e=n.findIndex((e=>e===t));n.splice(e,1)}localStorage.setItem("favoriteIng",JSON.stringify(n))}));var v=o("a48aG"),p=o("2exYQ");const y={ingEl:document.querySelector(".js-favorite__ing")},_=new(0,p.Paginator)({selector:".paginator",drawMarkup:e=>{y.ingEl.innerHTML=f(e),window.scrollTo({top:0,behavior:"smooth"})}});!async function(){const e=JSON.parse(localStorage.getItem("favoriteIng")||"[]").map((e=>(0,v.getCocktailIngredientById)(e).then((e=>e.ingredients[0])))),t=await Promise.all(e);_.update(t)}(),y.ingEl.addEventListener("click",(e=>{if("BUTTON"!==e.target.nodeName||"Remove"!==e.target.textContent)return;const t=e.target.dataset.id;console.log(t);const n=JSON.parse(localStorage.getItem("favoriteIng"));if(n){const o=n.findIndex((e=>e===t));n.splice(o,1),localStorage.setItem("favoriteIng",JSON.stringify(n)),e.target.closest(".ing__cocktails").remove()}}));JSON.parse(localStorage.getItem("favoriteIng")||"[]");v=o("a48aG");const b=document.querySelector("[data-btn-close]"),S=document.querySelector(".backdrop-cocktails"),k=document.querySelector("[data-ingredient-window]");b.addEventListener("click",(function(e){k.classList.add("hidden"),S?.classList.remove("hidden")}));v=o("a48aG");async function w(e){e.preventDefault();const t=e.target?.elements?.search?.value?.trim()||"",n=await(0,v.getCocktailsByName)(t);localStorage.setItem("query",JSON.stringify(n.drinks)),window.location.href="index.html"}const L=document.querySelector(".header__search-form"),I=document.querySelector(".header__search-form-modal");document.querySelector(".js-ingredients-list").addEventListener("click",(function(e){if(console.log(e.target),e.preventDefault(),e.target.classList.contains("js-ingredient")){const t=e.target.dataset.ingredient,n=JSON.parse(localStorage.getItem("favoriteIng")||"[]"),o=(document.querySelector("[data-ingredient-window]"),document.querySelector(".modal-ingredient__wrapper")),i=document.querySelector(".js-modal-ingredient");(0,v.getCocktailIngredientByName)(t).then((({ingredients:e})=>{const t=e[0],a=`\n    <h3 class="modal-ingredient__title">${t.strIngredient||"this ingredient is not found"}</h3>\n    <p class="modal-ingredient__descr">${t.strType||"none"}</p>\n    <p class="modal-ingredient__text">\n      <span class="modal-ingredient__name">${t.strIngredient||"this ingredient is not found"}</span> ${t.strDescription||"description is not found"}\n    </p>\n    <ul class="modal-ingredient__list">\n      <li class="modal-ingredient__item">Type: ${t.strIngredient||" "}</li>\n      <li class="modal-ingredient__item">Country of origin:</li>\n      <li class="modal-ingredient__item">Alcohol by volume: ${t.strABV||" "}%</li>\n      <li class="modal-ingredient__item">Flavour:</li>\n    </ul>`;o.innerHTML=a,S?.classList.add("hidden"),k.classList.remove("hidden"),document.body.style.overflow="hidden",i.value=t.idIngredient,n.includes(t.idIngredient)?(i.textContent="Remove from favorites",i.dataset.action="remove_favorite"):(i.textContent="Add to favorites",i.dataset.action="favorite")}))}})),L.addEventListener("submit",w),I.addEventListener("submit",(e=>{e.preventDefault(),s(),w(e)}))}();
//# sourceMappingURL=favorite-ingredients.9eb504f7.js.map
