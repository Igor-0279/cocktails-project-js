{"mappings":"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","sources":["src/js/header/header-form.js","src/js/header/header-modal.js","src/js/header/theme-switch.js","src/js/shared/add-favorite-cocktails.js","src/js/shared/add-coctails-to-ingridient.js","src/js/shared/handle-favorite-page-search.js","src/favorite-cocktails.js"],"sourcesContent":["import { handleCocktailsSearch } from '../shared/handle-cocktails-search';\nimport { hideMobileMenu } from './header-modal';\n\nconst searchForm = document.querySelector('.header__search-form');\nconst searchFormModal = document.querySelector('.header__search-form-modal');\n\nsearchForm.addEventListener('submit', handleCocktailsSearch);\nsearchFormModal.addEventListener('submit', (e) => {\n    e.preventDefault();\n    hideMobileMenu();\n    handleCocktailsSearch(e);\n});\n","const mobileMenu = document.querySelector('.js-menu-container');\nconst openMenuBtn = document.querySelector('.js-open-menu');\nconst closeMenuBtn = document.querySelector('.js-close-menu');\n\nconst toggleMenu = () => {\n  const isMenuOpen =\n    openMenuBtn.getAttribute('aria-expanded') === 'true' || false;\n  openMenuBtn.setAttribute('aria-expanded', !isMenuOpen);\n  mobileMenu.classList.toggle('is-open');\n\n    if (!isMenuOpen) {\n      window.bodyScrollLock?.disableBodyScroll(document.body);\n    } else {\n      window.bodyScrollLock?.enableBodyScroll(document.body);\n    }\n};\n\nopenMenuBtn.addEventListener('click', toggleMenu);\ncloseMenuBtn.addEventListener('click', toggleMenu);\n\n// Close the mobile menu on wider screens if the device orientation changes\nwindow.matchMedia('(min-width: 768px)').addEventListener('change', e => {\n  if (!e.matches) return;\n  mobileMenu.classList.remove('is-open');\n  openMenuBtn.setAttribute('aria-expanded', false);\n  window.bodyScrollLock?.enableBodyScroll(document.body);\n});\n\nexport function hideMobileMenu() {\n  mobileMenu.classList.remove('is-open');\n  window.bodyScrollLock?.enableBodyScroll(document.body);\n}\n","const refs = {\n  input: document.querySelector('.checkbox'),\n  checkbox: document.querySelector('.header__switcher'),\n  checkboxMob: document.querySelector('.header__switcher-btn'),\n};\n\nconst THEME_KEY = 'theme';\nconst savedTheme = localStorage.getItem(THEME_KEY);\n\nif (savedTheme === 'dark') {\n  refs.checkbox.classList.add('checked');\n  refs.checkboxMob.classList.add('checked');\n  document.documentElement.dataset.theme = savedTheme;\n}\n\nrefs.input.addEventListener('change', event => {\n  let activeTheme = null;\n\n  if (event.target.checked) {\n    refs.checkbox.classList.add('checked');\n    refs.checkboxMob.classList.add('checked');\n    activeTheme = 'dark';\n  } else {\n    refs.checkbox.classList.remove('checked');\n    refs.checkboxMob.classList.remove('checked');\n    activeTheme = 'light';\n  }\n\n  document.documentElement.dataset.theme = activeTheme;\n  localStorage.setItem(THEME_KEY, activeTheme);\n});\n","import { getCocktailsDetailsById } from \"./api-service\";\nimport { createCocktailsMarkup } from \"../catalog/create-cocktails-markup\";\nimport { handleCocktailClickAction } from \"../catalog/handle-cocktails-click-action\";\nimport { Paginator } from \"../catalog/pagination/paginator\";\n\nconst noFavoriteCocktails = document.querySelector('.favorite__text');\nconst favoriteCocktailsContainer = document.querySelector('.js-favorite__cocktails');\nconst favoriteCocktails = JSON.parse(localStorage.getItem('favoriteCocktails') || '[]');\nconst promises = favoriteCocktails.map(id => {\n    return getCocktailsDetailsById(id).then(res => res.drinks[0]);\n});\n\nconst favoriteCocktailsPaginator = new Paginator({\n    selector: '.paginator',\n    drawMarkup: cocktails => {\n        favoriteCocktailsContainer.innerHTML = createCocktailsMarkup(cocktails);\n        window.scrollTo({\n            top: 0,\n            behavior: 'smooth',\n          });\n    }\n});\n\nPromise.all(promises).then(cocktails => {\n    if(cocktails?.length) {\n        noFavoriteCocktails.classList.add('hidden');\n        favoriteCocktailsPaginator.update(cocktails)\n    } else {\n        noFavoriteCocktails.classList.remove('hidden');\n        favoriteCocktailsContainer.innerHTML = '';\n        favoriteCocktailsPaginator.hidePaginator();\n    }\n});\n\n\nfavoriteCocktailsContainer.addEventListener('click', e => {\n    e.preventDefault();\n    if (e.target.nodeName !== 'BUTTON') {\n        return;\n    }\n\n    if (e.target.dataset.action === 'remove_favorite') {\n        e.target.closest('.catalog__item').remove();\n    }\n\n    handleCocktailClickAction(e);\n\n    if (!favoriteCocktailsContainer.children.length) {\n        noFavoriteCocktails.classList.remove('hidden');\n    }\n});\n\n","const btnIngredients = document.querySelector('.js-modal-ingredient');\n\nbtnIngredients.addEventListener('click', addIngToFavorite);\n\nfunction addIngToFavorite(evt) {\n  const id = evt.target.value;\n  const favoriteIng = JSON.parse(localStorage.getItem('favoriteIng') || '[]');\n\n  if (evt.target.dataset.action === 'favorite') {\n    favoriteIng.push(id);\n  } else if (evt.target.dataset.action === 'remove_favorite') {\n    const index = favoriteIng.findIndex(_id => _id === id);\n\n    favoriteIng.splice(index, 1);\n  }\n\n  // if (!favoriteIng.includes(id)) {\n    \n  //   btnIngredients.textContent = 'Remove from favorites';\n  // } else {\n    \n  //   btnIngredients.textContent = 'Add to favorites';\n  // }\n\n  localStorage.setItem('favoriteIng', JSON.stringify(favoriteIng));\n}\n\nfunction findIdEl(ing) {\n  let favoriteIng = JSON.parse(localStorage.getItem('favoriteIng'));\n  if (!favoriteIng) {\n    localStorage.setItem('favoriteIng', JSON.stringify([]));\n  }\n  if (ing.includes(ing.idIngredient)) {\n  } else {\n  }\n}\n\nexport function createMarkupIng(ing) {\n  return ing\n    .map(e => {\n      return `\n  <div class=\"ing__cocktails\">\n  <div class=\"ing__cocktails-wrapper\">\n    <h3 class=\"ing__text-name\">${e.strIngredient}</h3>\n    <p class='ing__text'>${e.strType || 'No type found'}</p>\n    <div class=\"ing__btns\">\n    <button class=\"ing__button-primary js-ingredient\" data-ingredient=\"${e.strIngredient}\">Learn more</button>\n    <button class='ing__button-secondary' data-id=\"${\n      e.idIngredient\n    }\">Remove</button>\n    </div>\n    </div>\n  </div>`;\n    })\n    .join('');\n}\n","import { getCocktailsByName } from \"./api-service\";\n\nexport async function handleFavoritePageSearch(e) {\n  e.preventDefault();\n  const query = e.target?.elements?.search?.value?.trim() || '';\n  const data = await getCocktailsByName(query);\n\n  localStorage.setItem('query', JSON.stringify(data.drinks));\n  window.location.href = 'index.html';\n}","import './js/header/header-form';\nimport './js/header/header-modal';\nimport './js/header/theme-switch';\nimport './js/shared/add-favorite-cocktails';\nimport './js/shared/listener-btn-learnmore';\nimport './js/shared/add-coctails-to-ingridient';\n\nimport { handleFavoritePageSearch } from './js/shared/handle-favorite-page-search';\nimport { hideMobileMenu } from './js/header/header-modal';\n\nconst searchForm = document.querySelector('.header__search-form');\nconst searchFormMobile = document.querySelector('.header__search-form-modal');\n\nsearchForm.addEventListener('submit', handleFavoritePageSearch);\n\nsearchFormMobile.addEventListener('submit', (e) => {\n    e.preventDefault();\n    hideMobileMenu();\n    handleFavoritePageSearch(e);\n});"],"names":["$fS69O","parcelRequire","$01b57601a53c8cf8$var$mobileMenu","document","querySelector","$01b57601a53c8cf8$var$openMenuBtn","$01b57601a53c8cf8$var$closeMenuBtn","$01b57601a53c8cf8$var$toggleMenu","isMenuOpen","getAttribute","setAttribute","classList","toggle","window","bodyScrollLock","enableBodyScroll","body","disableBodyScroll","$01b57601a53c8cf8$export$cd408a2a40775e61","remove","addEventListener","matchMedia","e","matches","$fabcb55eae76a3e6$var$searchForm","$fabcb55eae76a3e6$var$searchFormModal","handleCocktailsSearch","preventDefault","$9127d9019a6d8d38$var$refs","input","checkbox","checkboxMob","$9127d9019a6d8d38$var$THEME_KEY","$9127d9019a6d8d38$var$savedTheme","localStorage","getItem","add","documentElement","dataset","theme","event","activeTheme","target","checked","setItem","$hF5kJ","$def37e4dbfa48779$var$noFavoriteCocktails","$def37e4dbfa48779$var$favoriteCocktailsContainer","$def37e4dbfa48779$var$promises","JSON","parse","map","id","getCocktailsDetailsById","then","res","drinks","$def37e4dbfa48779$var$favoriteCocktailsPaginator","$fs3tN","Paginator","selector","drawMarkup","cocktails","innerHTML","$cDAMP","createCocktailsMarkup","scrollTo","top","behavior","Promise","all","length","update","hidePaginator","nodeName","action","closest","$9jazP","handleCocktailClickAction","children","evt","value","favoriteIng","push","index","findIndex","_id","splice","stringify","async","$f4e73eb5aec13a44$export$5e2f760313c07ccc","query","elements","search","trim","data","getCocktailsByName","location","href","$96ff5e8ecbe21f24$var$searchForm","$96ff5e8ecbe21f24$var$searchFormMobile"],"version":3,"file":"favorite-cocktails.014d5ea8.js.map"}